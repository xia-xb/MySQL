# 函数

概念：类似于方法，将一组逻辑语句封装在方法体中，对外暴露方法名

好处：

- 隐藏了实现细节
- 提高代码的重用性

调用：

```sql
select 函数名(实参列表) (from 表)
```

特点

- 函数名
- 函数功能

分类

- 单行函数(concat,length,ifnull等)
- 分组函数(做统计使用，又称为统计函数、聚合函数、组函数)

# 单行函数

- 字符函数
- 数学函数
- 日期函数
- 其他函数（补充）
- 流程控制函数（补充）

## 字符函数

1. length 获取参数值的字节个数

   ```sql
   select length('john');
   select length('张三丰hahaha');
   #对于汉字，一个汉字的字节数取决于对应的字符集,utf8为3
   ```

2. concat 拼接字符串

   ```sql
   select concat(last_name,'_',first_name) from employees;
   ```

3. upper,lower

   ```sql
   select upper('john');
   select lower('joHn');
   #案例 将姓变大写，名变小写，然后拼接
   select concat(upper(last_name),'_',lower(first_name)) from employees;
   ```

4. substr,substring

   ==索引从1开始==

   ```sql
   select substr('李莫愁爱上了陆展元',7) output;
   #截取从指定索引出指定字符长度的字符
   select substr('李莫愁爱上了陆展元',1,3) output;
   #案例 姓名中首字符答谢，其他字符小写然后用_凭借，显示出来
   select concat(upper(substr(last_name,1,1)),'_',lower(substr(last_name,2))) output;
   ```

5. instr

   返回子串第一次出现的索引，如果找不到返回0

   ```sql
   select instr('杨不悔爱上了殷六侠','殷六侠') as out_put;
   ```

6. trim

   ```sql
   select trim('    张翠山      ') as output;
   select trim('a' from 'aaaaaaaaa张翠山aaaaaa ');
   ```

7. lpad

   用指定的字符实现左填充指定长度

   ```sql
   select lpad('殷素素',10,'*') as output;
   ```

8. rpad

   用指定的字符实现右填充指定长度

   ```sql
   select rpad('殷素素',10,'*') as output;
   ```

9. replace

   替换

   ```sql
   select replace('周芷若周芷若周芷若张无忌张无忌'，'周芷若','赵敏') as output;
   ```

## 数学函数

1. round 四舍五入

   ```sql
   select round(1.65);
   select rount(1.567,2);
   ```

2. ceil 向上取整，返回>=该参数的最小整数

   ```sql
   select ceil(1.52);
   ```

3. floor 向下取整，返回<=该参数的最大整数

   ```sql
   select floor(-9.99);
   ```

4. truncate 截断

   ```sql
   select truncate(1.65,1);
   ```

5. mod 取余

   mod(a,b)   a-a/b*b

   ```sql
   select mod(-10,-3);
   select 10%3;
   ```

   

